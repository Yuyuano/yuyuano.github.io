---
title: æŠ½å¡æ¨¡æ‹Ÿ
published: 2025-10-24
pinned: false
description: ä¸€ä¸ªåŸºäºæ˜æ—¥æ–¹èˆŸæ¦‚ç‡çš„æŠ½å¡æ¨¡æ‹Ÿ
tags: [ä½œä¸š,é«˜éš¾]
category: Python
licenseName: è½¬è½½æ—¶è½¬è½½è¯·æ³¨æ˜å‡ºå¤„
author: é‡ç¼˜
draft: false
date: 2025-10-24
pubDate: 2025-10-24
---
# åŸºäºæ˜æ—¥æ–¹èˆŸçš„æŠ½å¡æ¦‚ç‡åšçš„æŠ½å¡æ¨¡æ‹Ÿ
```
æœ¯è¯­è¡¨ï¼š
| åè¯  | å¯¹åº”æœºåˆ¶               |
| --- | ------------------ |
| ç¡¬ä¿åº• | æ¦‚ç‡å›ºå®šï¼Œç¬¬ N æŠ½å¿…å‡º       |
| è½¯ä¿åº• | 50 æŠ½åæ¯æŠ½ +2%        |
| å¤©äº•  | 300 æŠ½å¯ç›´æ¥å…‘æ¢å½“æœŸ UP å…­æ˜Ÿ |
```
>[!WARNING]
æœ¬ç¯‡æ‰€æœ‰ä»£ç éƒ½æ²¡æœ‰å¯¹è¾“å…¥åšåˆ¤æ–­ï¼Œè¯·ä¸è¦è¾“å…¥å­—ç¬¦æˆ–è€…ç©ºç™½
>

>[!TIP]  
å¦‚æœæƒ³è®©è„šæœ¬æ›´å¥å£®ï¼ŒæŠŠ `guess = int(input(...))` åŒ…æˆï¼š
 ```python
 while True:
     try:
         guess = int(input('è¯·è¾“å…¥ 1-100 çš„æ•´æ•°ï¼š'))
         break
     except ValueError:
         print('æ ¼å¼é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼')
 ```
>
## å°†ä¼šåˆ†æ­¥éª¤ä¸€æ­¥æ­¥å˜éš¾
>[!NOTE]
è¿™ç©æ„å¯¹äºåˆå­¦è€…æ¥è¯´æœ‰äº¿ç‚¹éš¾ä»¥ç†è§£ï¼Œä¸æ‡‚é—®Aiå§ï¼Œæˆ–è€…æ‰¾æˆ‘
>
### æ ‡å‡†æ± ï¼ˆ6â­æ¦‚ç‡2%ï¼‰ æ— ä¿åº•å†™æ³•
```python
import random
chou = int(input('ä½ æƒ³è¦æŠ½å¤šå°‘å‘ï¼Ÿï¼š')) #è‡ªå®šä¹‰æƒ³æŠ½å¤šå°‘å‘
def gacha():     #ç”¨defå‡½æ•°æ–¹ä¾¿è‡ªå®šä¹‰æŠ½æ•°
    r = random.randint(1, 100)
   # random.randint(1,100) ç”Ÿæˆçš„æ˜¯ 1~100 é—­åŒºé—´ï¼Œå…± 100 ä¸ªæ•´æ•°
    if r <= 2:          # 6â­ 2/100 = 2%
        return 'â­â­â­â­â­â­'
    elif r <= 8:
        return 'â­â­â­â­â­'
    elif r <= 50:
        return 'â­â­â­â­'
    else:
        return 'â­â­â­'
for i in range(chou): #å¾ªç¯è¾“å…¥çš„æ¬¡æ•°
    print(gacha()) #æ‰§è¡Œdefå‡½æ•°å¹¶è¾“å‡º
```
>[!NOTE]
è¿™ä¸ªç”¨äº†**defå‡½æ•°**æ¥è‡ªå®šä¹‰æŠ½æ•°ï¼Œç†è§£ä¸äº†**def**å¯ä»¥æŠŠè‡ªå®šä¹‰æŠ½æ•°çš„ä»£ç å»æ‰ç„¶åç›´æ¥`Forå¾ªç¯`åˆ¤æ–­æŠ½å¡çš„å†…å®¹
>
### ï¼ˆå‡ï¼‰ä¿åº•å†™æ³•
å› ä¸ºæ˜æ—¥æ–¹èˆŸä¿åº•æ¦‚ç‡æ˜¯éšç€æŠ½æ•°çš„å¢é•¿è€Œå¢é•¿ï¼Œä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œå…ˆä»‹ç»**ç¡¬ä¿åº•**ï¼ˆä¹Ÿå°±æ˜¯æŠ½åˆ°å¤šå°‘æŠ½å¿…å‡ºï¼Œä¸éšç€æŠ½æ•°å¢åŠ æ¦‚ç‡ï¼‰
```python
import random

chou = int(input('ä½ æƒ³è¦æŠ½å¤šå°‘å‘ï¼Ÿï¼š'))

def gacha(pity):
    """è¿”å› (ç»“æœ, æ–°pity)"""
    # ç¡¬ä¿åº•ï¼šç¬¬99æŠ½å¿…å‡º6â­
    if pity == 99:
        return 'â­â­â­â­â­â­', 0

    # æ­£å¸¸æ¦‚ç‡
    r = random.randint(1, 100)
    if r <= 2:                # å‡º6â­
        return 'â­â­â­â­â­â­', 0
    elif r <= 8:
        return 'â­â­â­â­â­', pity + 1
    elif r <= 50:
        return 'â­â­â­â­', pity + 1
    else:
        return 'â­â­â­', pity + 1

pity = 0
for i in range(chou):
    result, pity = gacha(pity)
    print(result)
```
>[!TIP]
è¦å–„ç”¨è®¡æ•°å™¨æ¥ä½œä¸ºé¢å¤–çš„è®¡ç®—æ¬¡æ•°é“å…·
>
### (çœŸï¼‰ä¿åº•å†™æ³•
```python
import random
chou = int(input('ä½ æƒ³è¦æŠ½å¤šå°‘å‘ï¼Ÿï¼š'))
def gacha(pity):
    """è¿”å› (æŠ½å¡ç»“æœ, æ–°çš„pityè®¡æ•°)"""
    # è®¡ç®—å½“å‰ 6â­æ¦‚ç‡
    six_rate = min(2 + max(0, pity - 49) * 2, 100)   # ç¬¬51æŠ½å¼€å§‹+2%  å®˜æ–¹ï¼š50 æŠ½ä¹‹åï¼ˆå³ç¬¬ 51 æŠ½ï¼‰æ¯æŠ½ +2%
    r = random.randint(1, 100) 

    if r <= six_rate:           # å‡º 6â­
        return 'â­â­â­â­â­â­', 0
    elif r <= 8:                # 5â­
        return 'â­â­â­â­â­', pity + 1
    elif r <= 50:               # 4â­
        return 'â­â­â­â­', pity + 1
    else:                       # 3â­
        return 'â­â­â­', pity + 1

pity = 0                        # å¼€å±€å« 0 æŠ½
for i in range(chou):
    result, pity = gacha(pity)  # æŠ½ä¸€æ¬¡ï¼Œæ‹¿åˆ°æ–° pity
    print(result)
```

### é›†å¤§æˆè€…å®Œæ•´ç‰ˆï¼ˆæ‹¥æœ‰éšæŠ½æ•°å¢åŠ ä¿åº•æ¦‚ç‡å¢åŠ ï¼Œä¼šæ­ªï¼Œæœ‰ç»Ÿè®¡åŠŸèƒ½ï¼‰
>[!CAUTION]
å› ä¸ºä»¥ä¸‹ä»£ç ä¼šåˆ›å»º**jsonæ–‡ä»¶**æ¥ä¿å­˜æ•°æ®ï¼Œæ‰€ä»¥è¯·å‹¿åœ¨**pythonåœ¨çº¿ç¼–è¾‘å™¨**æ¥è¿è¡Œæ­¤ä»£ç 
>
```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
æ˜æ—¥æ–¹èˆŸé™å®š UP æ± æ¨¡æ‹Ÿå™¨ï¼ˆçœŸå®æ¦‚ç‡é“¾ + 300 æŠ½å¤©äº•è¡¥å‘ï¼‰
"""
import os
import json
import random
from collections import Counter

# ========== ç”¨æˆ·å¯æ”¹å‚æ•° ==========
UP_NAME = "å½±ç„°Â·è‹‡è‰"          # å½“æœŸ UP å…­æ˜Ÿ
SAVE_FILE = "arknights_pity.json"
# ==================================

# ---------- å·¥å…·ï¼šè¯»æ¡£ ----------
def load_data():
    if os.path.exists(SAVE_FILE):
        with open(SAVE_FILE, "r", encoding="utf-8") as f:
            return json.load(f)
    return {"total": 0, "pity": 0}

# ---------- å·¥å…·ï¼šå†™æ¡£ ----------
def save_data(total, pity):
    with open(SAVE_FILE, "w", encoding="utf-8") as f:
        json.dump({"total": total, "pity": pity}, f, ensure_ascii=False)

# ---------- æ ¸å¿ƒæŠ½å¡ï¼ˆçœŸå®æ¦‚ç‡é“¾ï¼‰ ----------
def pull_once(pity):
    """è¿”å› (ç»“æœå­—ç¬¦ä¸², æ–°pity, æ˜¯å¦å…­æ˜Ÿ)"""
    six_prob = min(2 + max(0, pity - 49) * 2, 100)  # è½¯ä¿åº•
    r = random.randint(1, 100)                       # åªæ·ä¸€æ¬¡

    if r <= six_prob:                                # 1. å…­æ˜Ÿ
        up_or_ng = random.choices(["UP", "æ­ª"], weights=[70, 30])[0]
        return (f"å…­æ˜ŸÂ·{UP_NAME}" if up_or_ng == "UP" else "å…­æ˜ŸÂ·å¸¸é©»"), 0, True

    elif r <= six_prob + 2:                          # 2. äº”æ˜Ÿ 2%
        return "äº”æ˜Ÿ", pity + 1, False

    elif r <= six_prob + 2 + 50:                     # 3. å››æ˜Ÿ 50%
        return "å››æ˜Ÿ", pity + 1, False

    else:                                            # 4. ä¸‰æ˜Ÿ 46%
        return "ä¸‰æ˜Ÿ", pity + 1, False

# ---------- ä¸»æµç¨‹ ----------
def main():
    data = load_data()
    total_hist = data["total"]
    pity = data["pity"]

    n = int(input("æœ¬æ¬¡æŠ½å¤šå°‘å‘ï¼Ÿï¼š"))

    print("\n===== æŠ½å¡å¼€å§‹ =====")
    record = []
    first_6 = None
    six_count = 0

    for i in range(1, n + 1):
        result, pity, is6 = pull_once(pity)  # â† ä»…æ­¤å¤„ä¿®å¤ï¼špull_one â†’ pull_once
        record.append(result)
        if is6:
            six_count += 1
            if first_6 is None:
                first_6 = i

    total_hist += n

    # ---------- ç»Ÿè®¡ ----------
    c = Counter(record)
    print("\n===== ç»Ÿè®¡ =====")
    for k, v in c.items():
        print(f"{k}: {v} å¼ ")

    # ---------- å¤©äº•æ£€æŸ¥ï¼ˆè‡ªåŠ¨è¡¥å‘ï¼‰ ----------
    if total_hist >= 300:
        print(f"\n>>> ç´¯è®¡å·² {total_hist} æŠ½ï¼Œå¯å…‘æ¢å½“æœŸ UP å…­æ˜Ÿã€Œ{UP_NAME}ã€ï¼<<<")
        if c.get(f"å…­æ˜ŸÂ·{UP_NAME}", 0) == 0:
            c[f"å…­æ˜ŸÂ·{UP_NAME}"] += 1
            six_count += 1
            print(f">>> å·²è‡ªåŠ¨ä¸ºä½ å…‘æ¢ã€Œå…­æ˜ŸÂ·{UP_NAME}ã€ï¼Œæ›´æ–°ç»Ÿè®¡ç»“æœï¼<<<")
        total_hist = 0  # å…‘æ¢åæ¸…é›¶

    print(f"\næ€»è®¡å…­æ˜Ÿ: {six_count} å¼ ")
    print(f"UP å…­æ˜Ÿ: {c.get(f'å…­æ˜ŸÂ·{UP_NAME}', 0)} å¼ ")
    print(f"æ­ªå…­æ˜Ÿ: {c.get('å…­æ˜ŸÂ·å¸¸é©»', 0)} å¼ ")
    if first_6:
        print(f"æœ€æ—©å…­æ˜Ÿ: ç¬¬ {first_6} æŠ½")
    print(f"å½“å‰å«æŠ½: {pity}")
    print(f"å†å²ç´¯è®¡: {total_hist} æŠ½")

    # ---------- å­˜ç›˜ ----------
    save_data(total_hist, pity)
    print("\næ•°æ®å·²ä¿å­˜ï¼Œä¸‹æ¬¡ç»§ç»­ç´¯è®¡ã€‚")

if __name__ == "__main__":
    main()
```
è¿è¡Œç»“æœå·®ä¸å¤šå¦‚ä¸‹
```txt
===== ç»Ÿè®¡ =====
ä¸‰æ˜Ÿ: 25 å¼ 
å››æ˜Ÿ: 3 å¼ 
äº”æ˜Ÿ: 1 å¼ 
å…­æ˜ŸÂ·è‹‡è‰: 1 å¼ ï¼ˆ300äº•å…‘æ¢ï¼‰
å…­æ˜ŸÂ·å¸¸é©»: 1 å¼ 
æ€»è®¡å…­æ˜Ÿ: 2 å¼ 
æœ€æ—©å…­æ˜Ÿ: ç¬¬ 29 æŠ½
æœ€æ™šå…­æ˜Ÿ: ç¬¬ 300 æŠ½ï¼ˆäº•å…‘æ¢ï¼‰
å½“å‰å«æŠ½æ•°: 1
```
è¯´å®è¯ï¼Œè¿™ç©æ„çœ‹çš„æˆ‘éƒ½å¤´ç—›ï¼ˆæ‹¿AIæå¾—ï¼‰ğŸ˜—ï¼Œæ²¡äº‹ï¼Œåªè¦æç†Ÿäº†ä½ ä¹Ÿè¡Œ